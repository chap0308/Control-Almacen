document.addEventListener("DOMContentLoaded",(function(){const e={email:"",nombre:"",mensaje:"",telefono:""},t=document.querySelector("#email"),n=document.querySelector("#nombre"),r=document.querySelector("#mensaje"),a=document.querySelector("#telefono"),o=document.querySelector("#formulario"),i=document.querySelector('#formulario button[type="submit"]'),d=document.querySelector("#spinner");function l(t){return""===t.target.value.trim()?(s(`El Campo ${t.target.id} es obligatorio`,t.target.parentElement),e[t.target.name]="",void c()):"telefono"!==t.target.id||(n=t.target.value,/^9\d{8}$/.test(n))?"email"!==t.target.id||function(e){return/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(e)}(t.target.value)?"mensaje"!==t.target.id||t.target.value.length>10?(u(t.target.parentElement),e[t.target.name]=t.target.value.trim().toLowerCase(),void c()):(s("El mensaje debe tener más de 10 caracteres",t.target.parentElement),e[t.target.name]="",void c()):(s("El email no es válido",t.target.parentElement),e[t.target.name]="",void c()):(s("El telefono no es válido",t.target.parentElement),e[t.target.name]="",void c());var n}function s(e,t){u(t);const n=document.createElement("P");n.textContent=e,n.classList.add("bg-red-600","text-white","p-2","text-center"),t.appendChild(n)}function u(e){const t=e.querySelector(".bg-red-600");t&&t.remove()}function c(){if(Object.values(e).includes(""))return i.classList.add("opacity-50"),void(i.disabled=!0);i.classList.remove("opacity-50"),i.disabled=!1}t.addEventListener("input",l),n.addEventListener("input",l),r.addEventListener("input",l),a.addEventListener("input",l),o.addEventListener("submit",(function(t){if(Object.values(e).includes(""))return t.preventDefault(),Swal.fire({icon:"error",title:"Error",text:"Hubo un error en el envio"});d.classList.add("flex"),d.classList.remove("hidden"),setTimeout(()=>{d.classList.remove("flex"),d.classList.add("hidden"),e.email="",e.mensaje="",e.nombre="",e.telefono="",o.reset(),c();const t=document.createElement("P");t.classList.add("bg-green-500","text-white","p-2","text-center","rounded-lg","mt-10","font-bold","text-sm","uppercase"),t.textContent="Mensaje enviado correctamente",o.appendChild(t),setTimeout(()=>{t.remove()},3e3)},3e3)}))}));